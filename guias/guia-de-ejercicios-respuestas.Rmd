---
title: "Guía de Ejercicios"
subtitle: "Manipulación y Visualización de Datos"
author: "Profesor: Mauricio Vargas Sepúlveda<br>
Ayudantes: Maximiliano Diener, Teresa Valdivia, José Vinés"
date: "`r Sys.Date()`"
output:
  prettydoc::html_pretty:
    theme: architect
    highlight: github
---

# Pregunta 1

```{r pregunta1, message=FALSE}
library(dplyr)
library(ggplot2)
library(forcats)
library(readr)
```

# Pregunta 2

```{r pregunta2}
mpg
```

# Pregunta 3

Hay que cambiar `eval = F` por `eval = T`

```{r pregunta3, eval = T}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  ggtitle("Rendimiento en autopista (hwy) versus tipo de motor (displ)")
```

# Pregunta 4

Puede ser el el primer o el cuarto gráfico ya que se usa una variable cualitativa como diferenciador en las observaciones. Sin embargo, el cuarto gráfico no es claro y se pierde un grupo por lo que se descarta.

```{r pregunta4}
# opcion 1
ggplot(mpg) + 
  geom_point(aes(x = displ, y = hwy, color = class)) +
  ggtitle("Rendimiento en autopista (hwy) versus tipo de motor (displ)")
```

# Pregunta 5

```{r pregunta5}
ggplot(data = mpg) +
  geom_boxplot(mapping = aes(x = class, y = hwy)) +
  ggtitle("Rendimiento de en autopista (hwy) por tipo de veh\u00edculo (class)")
```

# Pregunta 6

```{r pregunta6}
ggplot(data = mpg) +
  geom_histogram(mapping = aes(x = hwy)) +
  ggtitle("Rendimiento de combustible en autopista (hwy)")
```

# Pregunta 7

```{r pregunta7}
ggplot(data = mpg) +
  geom_density(mapping = aes(x = hwy, color = class)) +
  ggtitle("Densidad de veh\u00edculos por tipo (class)")
```

# Pregunta 8

```{r pregunta8}
ggplot(data = mpg) +
  geom_bar(mapping = aes(x = class, fill = class)) +
  ggtitle("Cuenta de veh\u00edculos por tipo (class)")
```

# Pregunta 9

La primera línea hace referencia al dataset que contiene las variables que se utilizan en las lineas siguientes.

La línea dos crea un gráfico de puntos.

La línea tres agrega una línea de tendencia sobre lo anterior.

# Pregunta 10

```{r pregunta10}
# install.packages("babynames")
library(babynames)
babynames
```

# Pregunta 11

```{r pregunta11}
babynames %>%
  filter(name == "Khaleesi") %>%
  summarise(total = sum(n), first = min(year))
```

# Pregunta 12

```{r pregunta12}
babynames %>%
  group_by(name, sex) %>%
  summarise(total = sum(n)) %>%
  arrange(desc(total)) %>%
  ungroup() %>%
  slice(1:10) %>%
  ggplot() +
    geom_col(mapping = aes(x = fct_reorder(name,
desc(total)), y = total, fill = sex)) +
    theme_bw() +
    scale_fill_brewer() +
    labs(x = "name") +
    ggtitle("Nombres m\u00e9s comunes")

babynames %>%
  group_by(year) %>%
  summarise(n_children = sum(n)) %>%
  ggplot() +
    geom_line(mapping = aes(x = year, y = n_children)) +
    ggtitle("Cantidad de ni\u00f1os nacidos por a\u00f1o")
```
